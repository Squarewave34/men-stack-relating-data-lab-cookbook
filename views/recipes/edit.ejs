<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  <%- include('../partials/_navbar.ejs') %>
  <h1>edit your recipe</h1>

  <form action="/recipes/<%= recipe._id %>?_method=PUT" method="POST">
    <label for="name">Name of recipe:</label>
    <input type="text" name="name" id="name" value="<%= recipe.name %>"/>
    
    <br>
    <br>
    
    <label for="instructions">Instructions:</label>
    <input type="text" name="instructions" id="instructions" value="<%= recipe.instructions%>"/>
    
    <br>
    <br>
    
    <label>Add ingredients</label>

    <br>
    <% ingredient.forEach((ing)=>{ %>
      <label for="ingredients"><%= ing.name %></label>
      <input type="checkbox" name="ingredients" id="<%= ing._id %>" value="<%= ing._id %>"
      <%= recipe.ingredients.includes(ing._id) ? 'checked' : '' %>  />
      <!-- for reference: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/includes -->
    <% }) %>
    <br>
    <br>
    
    <button type="submit">edit Recipe</button>
  </form>
</body>
</html>